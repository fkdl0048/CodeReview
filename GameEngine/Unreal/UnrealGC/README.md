# Unreal GC

C#의 GC 개념은 익숙하지만, 언리얼 GC동작 과정에 대해 정리한다.

## GC(Garbage Collection)

언리얼 엔진(UE, Unreal Engine)의 가비지 컬렉션(GC, Garbage Collection)은 엔진 내부의 메모리 관리 기법 중 하나로, 사용되지 않는 객체를 자동으로 찾아내어 메모리에서 해제하는 역할을 합니다. 이 기능은 메모리 누수를 방지하고 게임의 성능을 유지하는 데 매우 중요한 역할을 합니다.

*사용자가 직접 메모리를 해제할 필요가 없다는 장점이 있지만, GC가 동작하는 동안 게임이 멈추는 현상이 발생할 수 있습니다.*

## 객체 참조 관리

언리얼 엔진에서 UObject라는 기본 클래스를 기반으로 대부분의 객체를 관리합니다. UObject는 참조 카운팅을 통해 메모리 관리를 수행하며, GC는 참조를 이용해 더이상 사용되지 않는 객체를 식별합니다.

*즉, UObject를 상속받은 객체는 GC의 대상이 됩니다.*

## 마크 앤 스위프

언리얼 엔진의 GC는 두 단계로 나뉩니다. 첫 번째 단계인 마킹(Marking) 단계에서는 루트 세트에서 시작하여 도달 가능한 모든 객체를 "활성" 상태로 마킹합니다. 두 번째 단계인 스위핑(Sweeping) 단계에서는 마킹되지 않은 객체들을 찾아내어 메모리에서 해제합니다.
