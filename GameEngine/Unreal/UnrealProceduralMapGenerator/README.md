- Unreal 절차적 맵 생성기에 관하여
- 오픈소스 소개,
- 사용법
- 결과물
- 커스텀
- 다음->


# **Unreal 절차적 맵 생성기에 관하여**

*이 글은 [SEEN(언리얼 기능 분석 커뮤니티)](https://futurelabseen.oopy.io/)을 위해 작성한 글입니다.*

안녕하세요! UNSEEN 2기 이정안입니다.

1인 개발을 해본 경험이 많이 없어서 기획력이 부족하니 여러 기술을 적용한 프로젝트로 만들어볼려고 합니다.

*3D 로그라이크 게임 (아이작..?)*

항상 계획대로 되지 않지만, 원래 계획은 커스텀 자동 맵 생성기를 커스텀 에디티로 제작하려 했읍니다. 커스텀 에디터와 절차적 맵 생성에 관해 공부하던 중.. 이미 잘 개발된 오픈소스가 있어서 들고왔습니다.

> "바퀴를 다시 발명하지 말자"

## **이런 사람이 읽으면 좋아요**

- 자동 맵 생성기, 절차적 생성 로직이 궁금한 사람
- 이미 잘 개발된 오픈소스를 활용하고 싶은 사람

## **이 구현 경험을 통해 얻은 인사이트**

- 절차적 맵 생성기에 대한 기초 이해
- 언리얼 오픈소스 적용 방법

- 절차적 맵 생성기란?
  - 맵을 수동으로 설계하는 대신 자동으로 생성하기 위해 사용하는 기술입니다. 특정 알고리즘을 통해 무작위 또는 규칙에 따라 생성합니다.
  - 그렇지만, 게임들이 맵을 다 미리 만들어 두는 이유가 있듯이 단점이 명확하고 단순하고 로그라이크형 게임에 적합합니다.

## **구현 과정**

[해당 오픈소스](https://github.com/BenPyton/ProceduralDungeon)

사실 제 글을 읽기보다 제작자분이 잘 써주신 README를 읽는 것이 더 좋을 것 같습니다. 이 글은 흥미를 끌어주는 용도로만 사용해주셔도 될 것 같습니다.

해당 오픈소스는 버전도 꾸준하게 올리고 있고, 사용법도 매우 간단합니다.

[영상](https://github.com/user-attachments/assets/16b25365-8bde-4385-ba97-69d942c9b218)

영상과 해당 레포를 살펴 보면 다음과 같은 기본 설정을 지원합니다.

- 출발지점과 도착지점
- 다양한 방의 방향과 크기
- 방 마다 조건(열쇠 스폰, 몬스터 스포너)
- 오클루전 컬링 (인접한 방만)
- 사용자가 설정할 수 있는 방의 규칙
- 시드값을 지원

이외의 기능이나 요구사항들은 사용자 본인이 커스텀하여 구현하면 됩니다. MIT라이선스를 따르기 때문에 자유롭게 사용..!

![CutSene gif](https://github.com/user-attachments/assets/3b8c8003-9a4c-47b7-8172-2af09715854a)

요정도만 봐도 흥미가 생기지 않나요? 이 오픈소스를 잘만 활용하면 재밌는 게임을 만들 수 있을 것 같습니다.

### 던전 생성의 라이프사이클

해당 오픈소스의 라이프사이클을 알아봅시다.

크게 4단계로 구성되며 각각의 단계는 다음과 같습니다.

- Idle: 생성기는 변경이 발생할 때까지 대기합니다.
- Unload: 이전 룸 레벨이 언로드됩니다. (레벨 엑터 파괴)
- Create Dungeon: (서버 전용) 생성기는 '가상' 던전을 생성합니다. (서버 전용으로 동작하며, 여기서 규칙을 정의합니다.)
- Load: 룸 레벨 로드 및 초기화(액터 생성 및 BeginPlay 호출)

*실제 동작의 순서도라고 합니다.*

![image](https://github.com/user-attachments/assets/1b22cb2c-fb50-4424-82a8-526c1f12e7a1)

실제 코드나 블루프린트가 어떻게 동작하는지를 직접 눈으로 보는게 가장 이해가 잘 될 것 같습니다.

#### 

---

## 느낀 점

*써보면서 느낀 클래스/로직/기능의 장단점*

*그 외 하지 못한 이야기가 있다면 자유롭게 작성해주세요.*