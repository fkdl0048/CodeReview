# C++ OOP

C++에서의 특징정인 OOP의 개념을 정리한다. OOP에 관한 문서는 따로 작성된 문서를 참고하고, C++에서의 OOP에 대한 내용을 정리한다. (low-level의 C++에서 동작하는 OOP)

- [기본 OOP의 개념](../../../OOP/README.md)

## C++에서 OOP

OOP가 주가 되어선 안된다. 읽기 쉽고, 유지보수가 좋고, 퍼포먼스를 위해 OOP를 사용하는 것이지, OOP의 개념에 입각하여 완벽한 객체지향을 짜는 것이 아니다.

**명심할 것, 가치 있는 제품, 소프트웨어을 창출하는 것이지 OOP가 완벽하게 준수된 프로그램을 짜는 것이 아니다.**

## 클래스

*구조체도 똑같이 적용된다.*

```cpp
class Cat
{
public:
    void speak();
private:
    int age;
};

int main()
{
    std::cout << sizeof(Cat) << std::endl; // 4

    Cat *cat = new Cat(); 
    // 힙에 실제로 할당되는 객체는 4바이트이다.
    // 스택의 포인터변수는 8바이트이다. 운영체제에 따라 다름

    return 0;
}
```

메모리 영역에 Cat클래스는 4바이트로 할당된다. 이는 멤버 변수 age가 4바이트이기 때문이다. 포인터도 영역의 차이이지 실제 할당되는 객체의 크기는 4바이트이다. static변수도 마찬가지로 힙 아래 데이터 영역에 4바이트로 할당된다.

여기서 멤버 변수의 순서나 바이트수의 차이에 따라 달라지는 것을 [바이트 패딩](../BytePadding/README.md) 이라고 한다. false sharing을 방지하기 위해 패딩을 사용할 수 있으니 해당 문서를 확인할 것.

중요한 점은 실제로 내가 생각한 객체의 크기가 메모리상에서 달라질 수 있으며 (자동적으로 효율적인 접근을 위해) 이를 인지하고 있어야 한다는 점이다..!



