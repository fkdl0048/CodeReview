# C++ 바이트 패딩

쉽게 공간을 더 써서 메모리를 효율적으로 사용하는 방법이다. 이는 운영체제에 따라 다르게 동작한다. (32비트, 64비트)

실제 구조체에 `int`와 `short`가 있다고 가정해보자.

```cpp
struct MyStruct {
    int a;
    short b;
};
```

이 구조체의 크기는 6바이트가 된다. 이는 `int`가 4바이트, `short`가 2바이트이기 때문이다.

하지만, 컴파일러는 바이트 패딩을 통해 8바이트로 정렬한다. 이는 CPU가 8바이트 단위로 데이터를 읽어오기 때문이다.

32비트 CPU는 4바이트 단위로 데이터를 읽어오기 때문에 4바이트로 정렬한다. 64비트 CPU는 8바이트 단위로 데이터를 읽어오기 때문에 8바이트로 정렬한다.

따라서 선언 시의 위치도 효율적으로 배치해야 한다. 구조체/클래스 패딩은 구조체 안의 가장 큰 자료형의 크기로 정해진다. *꼭 큰 자료형으로 정해지는 것은 아니다.*

- [참고 자료](https://coding-factory.tistory.com/670)
- [C++ 자료형의 크기](../DataType/README.md)